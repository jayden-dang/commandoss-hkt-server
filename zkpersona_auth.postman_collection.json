{
  "info": {
    "name": "ZKPersona Authentication API",
    "description": "Collection for testing ZKPersona authentication endpoints",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Generate Nonce",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"wallet_address\": \"0x1234567890abcdef1234567890abcdef12345678\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/zkpersona/auth/nonce",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "zkpersona", "auth", "nonce"]
            },
            "description": "Generate a nonce for wallet authentication"
          }
        },
        {
          "name": "Wallet Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"wallet_address\": \"0x1234567890abcdef1234567890abcdef12345678\",\n  \"signature\": \"AH4gbmV3IGNvbGxlY3Rpb24gd2l0aCByZWR1Y2VkIGdhcyBmZWVzLiBUaGUgY29sbGVjdGlvbiB3aWxsIGNvbnNpc3Qgb2YgMTAwMCB1bmlxdWUgTkZUcyB3aXRoIGRpZmZlcmVudCByYXJpdHkgbGV2ZWxzLgAAAAAAAAAAAAAAAAA=\",\n  \"public_key\": \"dGVzdF9wdWJsaWNfa2V5XzEyMzQ1Njc4OTBhYmNkZWY=\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/zkpersona/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "zkpersona", "auth", "login"]
            },
            "description": "Login with wallet signature"
          }
        }
      ]
    },
    {
      "name": "Protected Endpoints",
      "item": [
        {
          "name": "Generate Proof",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"behavior_input\": {\n    \"user_actions\": [\n      {\n        \"action\": \"page_view\",\n        \"page\": \"home\",\n        \"duration\": 5.2\n      },\n      {\n        \"action\": \"click\",\n        \"element\": \"signup_button\",\n        \"timestamp\": \"2024-01-15T10:30:00Z\"\n      }\n    ],\n    \"session_info\": {\n      \"browser\": \"Chrome\",\n      \"device\": \"Desktop\",\n      \"ip_country\": \"US\"\n    }\n  },\n  \"session_id\": \"test_session_123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/zkpersona/generate-proof",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "zkpersona", "generate-proof"]
            },
            "description": "Generate ZK proof from behavior data (requires authentication)"
          }
        }
      ]
    },
    {
      "name": "Public Endpoints",
      "item": [
        {
          "name": "Verify Proof",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"proof_data\": \"bW9ja19wcm9vZl9kYXRh\",\n  \"verification_key\": \"bW9ja192ZXJpZmljYXRpb25fa2V5\",\n  \"public_signals\": {\n    \"score\": 85.5,\n    \"score_range\": [0, 100],\n    \"behavior_hash\": \"abc123def456\",\n    \"timestamp\": 1705318200\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/zkpersona/verify",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "zkpersona", "verify"]
            },
            "description": "Verify a ZK proof"
          }
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8080",
      "type": "string"
    }
  ]
}